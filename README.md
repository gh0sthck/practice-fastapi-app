# practice-fastapi-app

Приложение представляет собой API приложения пекарни, с графическим интерфейсом, реализованным при помощи Swagger. <br/>

Для запуска приложения используйте `uvicorn --reload main:app`. После, чтобы перейти в swagger,
зайдите на `http://localhost:8000/api/docs`.

Технологический стек приложения:
1. Python 3.12.2
2. FastAPI
3. Pydantic (валидация данных)
4. Poetry (менеджер зависимостей)
5. Alembic (миграции)
6. Pytest (тестирование)
7. PostgreSQL (субд)

# Виртуальное окружение

1. В проекте, в качестве менеджера зависимостей, использутся Poetry. Для активации окружения потребуется установленный Poetry:

```sh
pip install poetry==1.8.2
```

2. Уставновите зависимости, используя poetry:

```sh
poetry install
```

3. Активация вирутального окружения

```sh
poetry shell
```
Для деактивации пропишите `deactivate`.

# Миграции

Основные миграции уже созданы, их только надо применить к базе данных, т.е сделать апргейд. Создавать свои собственные только на свой страх и риск. <br>
Для создания миграций прописать:

```sh
alembic revision --autogenerate -m "comment"
```

Для апгрейда (<i>перед апгрейдом убедитесь, что вы успешно настроили свою базу данных в `settings.py`.</i>):

```sh
alembic upgrade head
```

Для отката:

```sh
alembic downgrade -1
```

# Предварительная настройка

Прежде чем запускать проект, перейдите в `settings.py` и укажите имя своей базы данных. При использовании PostgreSQL, вы также должны будете создать её.

Также необходимо провести миграции. Будет достаточно провести апргейд последней версии, чтобы все таблицы были созданы: `alembic upgrade head`. Теперь можно запускать приложение.

# Доступные эндпоинты

Из доступных сервисов есть:

1. Продукты (products),
2. Категории (categories),
3. Покупки (purchases),
4. Продавцы (sellers)

Всего реализовано 4 основных метода, перейдите на `http://localhost:8000/serv_name/` для использования:

- GET - `/get_all/` и `<id>` (вместо id - номер), возвращают все или конертный объект из бд;
- POST - `/new/` - создает новый объект в бд;
- PUT - `/update/` - обновляет объект в бд;
- DELETE - `/delete/` - удаляет объект из бд.
